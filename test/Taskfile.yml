# https://taskfile.dev
version: '3'

tasks:
  default:
    cmds:
      - grain toString.test.gr
      - grain toStringNoTypeInfo.test.gr --elide-type-info
  sizeTest:
    cmds:
      - bash sizeDifference.sh
  perf:
    cmds:
      - grain compile perf.gr --wat
      - wasmtime --profile=guest perf.wasm
  format:
    cmds:
      - grain format . -o .
  clean:
    cmds:
      - rm -f *.gro
      - rm -f *.wasm
      - rm -f *.wat